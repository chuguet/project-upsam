
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
        <title>Ejes Coordenadas</title>
			<link href="../css/jquery.mobile-1.4.1.min.css" rel="stylesheet" type="text/css">
			
			<script type="text/javascript" src="../js/ctrl.generic.js"></script>
			<script type="text/javascript" src='../js/3d/surface-plot.js'></script>
			<script type="text/javascript" src='../js/3d/colour-gradient.js'></script>
			
			<script type="text/javascript" src="../cordova.js"></script>
			<script type="text/javascript" src="../js/index.js"></script>
			
			<script type="text/javascript" src='../js/jquery-1.9.1.min.js'></script>
			<script type="text/javascript" src='../js/jquery.mobile-1.4.1.min.js'></script>
			<!--<script type="text/javascript" src="../js/3d/jsapi"></script>-->
			<script type="text/javascript" src="../js/3d/google.visualization.js"></script>
			<script type="text/javascript">
				generic.initialize();
			
				//google.load("visualization", "1");
				//google.setOnLoadCallback(setUp);
				var surfacePlot;
				
				function setUp(){
				//$('#slider-fill').slider(); 
				
				$( "#slider-fill" ).bind( "change", function(event, ui) {
					
					if ($("#slider-fill").val() != 0){
						surfacePlot.positioning($( "#slider-fill" ).val());
						console.log("llega");
					}
				});
/*
				$( "#slider-fill" ).on( 'slidestart', function( event ) { console.log("llega");
					
				});
			*/
				var data;
				/*
					var numRows = 45.0;
					var numCols = 45;
					
					var tooltipStrings = new Array();
					var data = new google.visualization.DataTable();
					
					for (var i = 0; i < numCols; i++){
						data.addColumn('number', 'col'+i);
					}
					
					data.addRows(numRows);
					var d = 360 / numRows;
					var idx = 0;
					
					for (var i = 0; i < numRows; i++) {
						for (var j = 0; j < numCols; j++) {
	//								var x = i - numRows/2;
	//                                var y = j - numCols/2;
	//                                var value = (Math.cos(i * d * Math.PI / 180.0) * Math.cos(j * d * Math.PI / 180.0));
	//                                value = (Math.sqrt(x*x+y*y)+5*Math.cos(Math.sqrt((x*x+y*y) * d * Math.PI / 180.0)))/15.0
									
							var value = (Math.cos(i * d * Math.PI / 180.0) * Math.cos(j * d * Math.PI / 180.0));
							
							data.setValue(i, j, value / 4.0);
							
							tooltipStrings[idx] = "x:" + i + ", y:" + j + " = " + value;
							idx++;
						}
					}
			*/
					surfacePlot = new animation.SurfacePlot(document.getElementById("surfacePlotDiv"));
					
					// Don't fill polygons in IE. It's too slow.
					var fillPly = true;
					
					// Define a colour gradient.
					var colour1 = {red:0, green:0, blue:255};
					var colour2 = {red:0, green:255, blue:255};
					var colour3 = {red:0, green:255, blue:0};
					var colour4 = {red:255, green:255, blue:0};
					var colour5 = {red:255, green:0, blue:0};
					var colours = [colour1, colour2, colour3, colour4, colour5];
					
					// Axis labels.
					var xAxisHeader = "X";
					var yAxisHeader = "Y";
					var zAxisHeader = "Z";
					
					var myWidth = $(window).width();
					var myHeight = $(window).height();
					
					var options = {xPos: 0, yPos: 0, width: myWidth, height: myHeight, colourGradient: colours, fillPolygons: fillPly,
						restrictXRotation: false};
						//tooltips: tooltipStrings, xTitle: xAxisHeader, yTitle: yAxisHeader, zTitle: zAxisHeader, restrictXRotation: false};
					
					surfacePlot.draw(generateData(), options);                       
				}	
						
				function resize() {
					var theCanvas = $("#surfacePlotCanvas")
					theCanvas.width = theCanvas.offsetWidth;
					theCanvas.height = theCanvas.offsetHeight;
				}
						
				window.onload = window.onresize = resize;
							
				var supportsOrientationChange = "onorientationchange" in window, orientationEvent = supportsOrientationChange ? "orientationchange" : "resize";

				window.addEventListener(orientationEvent, function() {
					window.location.reload();
				}, false);
					
				function generateData(){
					var data = new Array();
					var line = {'originPoint' : {x : 0.1, y: 0.1, z:0.1},
								'endPoint' : {x : 0.9, y: -0.3, z:0.5}};
					data.push(line);
					var line2 = {'originPoint' : {x : 0.3, y: 0.3, z:-0.5},
								'endPoint' : {x : 1.1, y: -1.5, z:-0.7}};
					data.push(line2);
					var line3 = {'originPoint' : {x : 0.4, y: 0.1, z:0.7},
								'endPoint' : {x : 0.8, y: 0.8, z:0.2}};
					data.push(line3);
					
					return data;
				}
				
			</script>
            <style>
				.divVideo #slider-fill{display:none;}
				.divVideo .ui-slider-track{margin: 0px 15px;}
				.divVideo {position:absolute; bottom:60px; width:100%}
				.divVideo button.button-control{ margin:0px 5px; width:31px; height:31px; display:inline-block;color:transparent; border-width:0px; background-color:transparent; -webkit-box-shadow: 0 0px 0px rgba(0,0,0,.15); -moz-box-shadow: 0 0px 0px rgba(0,0,0,.15); box-shadow: 0 0px 0px rgba(0,0,0,.15);}
				.divVideo button#rewind{background-image:url("../img/ico_rewind.png");}
				.divVideo button#play{background-image:url("../img/ico_play.png"); }
				.divVideo button#pause{background-image:url("../img/ico_pause.png");}
				body.landscape { text-align:center; margin: 0; padding: 0;}
				body.landscape div.ui-content {padding:0px;}
			</style>
        </head>
        <body class="landscape">
        	<div data-role="page" id="Home">
				<div data-role="header"><h1>Simulaci&oacute;n 3D</h1></div>
				<div role="main" class="ui-content">
				
					<div id="surfacePlotDiv"></div>
					<div class="divVideo">
						<input type="range" name="slider-fill" id="slider-fill" value="0" min="0" max="100" data-highlight="true" />
						<button id="rewind" class="button-control" onclick="surfacePlot.rewind();"></button>
						<button id="play" class="button-control" onclick="surfacePlot.play();"></button>
						<button id="pause" class="button-control" onclick="surfacePlot.stop();"></button>
					</div>
				</div>
			</div>
			<script>
			$(document).on("pagecreate",function(event){
				setUp();
			});
			
			</script>
        </body>
</html>